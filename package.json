{
    "name": "@j-cake/mkjson",
    "type": "module",
    "version": "v1.1.2",
    "bin": "build/cli.js",
    "main": "build/cli.js",
    "scripts": {
        "build:cli": "mkdir -p build && ln -f cli.js build/cli.js && $npm_execpath exec esbuild src/index.ts --outdir=build --bundle --sourcemap --splitting --platform=node --format=esm",
        "build:check": "$npm_execpath exec tsc -p tsconfig.json && $npm_execpath run build:cli",
        "build:ln": "jq -r '{name, version, type, main: \"cli.js\", bin: \"cli.js\"}' package.json > build/package.json",
        "test": "find test -name \\*.js | xargs -I {} bash -c 'node {}; echo [{}] exited with code $?'"
    },
    "dependencies": {
        "@j-cake/jcake-utils": "latest",
        "lodash": "latest",
        "chalk": "latest"
    },
    "devDependencies": {
        "@types/node": "latest",
        "@types/lodash": "latest",
        "esbuild": "latest",
        "typescript": "latest"
    },
    "optionalDependencies": {
        "json5": "latest"
    },
    "targets": {
        "build/cli.js": {
            "dependencies": ["build/index.js"],
            "run": [
                "mkdir -p build",
                "ln -f cli.js build/cli.js"
            ]
        },
        "build/index.js": {
            "dependencies": ["src/*.ts"],
            "run": "pnpm exec esbuild src/index.ts --outdir=build --bundle --sourcemap --splitting --platform=node --format=esm"
        },
        "build/ts/*.js": {
            "dependencies": ["src/*.ts"],
            "run": "pnpm exec tsc -p tsconfig.json"
        },

        "check": {
            "phony": true,
            "run": "pnpm exec tsc -p tsconfig.json && pnpm run build"
        },
        "clean": {
            "phony": true,
            "run": "rm -rf node_modules build *lock*"
        }
    }
}